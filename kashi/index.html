<!DOCTYPE html>
<html lang="ja">
<head>
<title>ひたち光教会アプリ</title>
<meta name="robots" content="noindex,nofollow,noarchive" />
<meta content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=10.0,user-scalable=yes" name="viewport">
<meta charset="utf-8">
<link href="./img/hhc.ico" rel="shortcut icon">
<link href="./img/hhc.ico" rel="apple-touch-icon">
<!-- <link href="//netdna.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet"> -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">

<script src="https://code.jquery.com/jquery.js"></script>
<!-- <script src="//netdna.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script> -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
<script src="list.js"></script>
	
<style type="text/css">
<!--
.col-xs-12,.col-xs-6,.col-xs-4,.col-xs-3,.col-xs-2 {padding-right : 0px;padding-left : 0px;}
audio { width: 100%; }
select{ font-size:14px; border:1px;}
	
.movieWraper {
    position: relative
    width: calc(100% - 10px);
    margin: 0 auto;
}

.iframeWrap{
    height: 0;
    padding-bottom: 62.5%;
}

iframe {
    position: absolute;
    top: 0;
    left: 0;
}
	
}
-->
</style>
<script>

var get_nowTime = function(){
	val = document.getElementById("audio").currentTime;
	window.localStorage.setItem("nowTime", val);
  }

setInterval(get_nowTime, 15000);

$(function () {
	$("select").change(audioset);
});

function readFirst(){
    for(var i=0;i<list.length;i++){
      let opt = document.createElement("option");
      opt.value = list[i].val;  //value値
      opt.text = list[i].txt;   //テキスト値
      document.getElementById("messageSelect").appendChild(opt);
    }
	audioset();
        val = window.localStorage.getItem("nowTime");
	document.getElementById("audio").currentTime = val;
  };

function audioset(){
	var selaudio;
	var audio = new Audio();
	selaudio = $(messageSelect).val().substr(0,8);
	console.log(selaudio);
	audio.controls = true;
	audio.src = "./m4a/" + selaudio + ".m4a";
	audio.id = "audio";
	audio.preload = "auto";
	$(message).html(audio);
	document.getElementById("audio").play();
};
function skip(seconds){
	document.getElementById("audio").play();
	document.getElementById("audio").currentTime += seconds;
};
function move(seconds){
	document.getElementById("audio").play();
	document.getElementById("audio").currentTime = seconds;
};
function rateup(speed){
	document.getElementById("audio").play();
	document.getElementById("audio").playbackRate = speed;
};

</script>
</head>
<body onload="readFirst()">
<div class="container">
	<div class="row">
		<h4 class="text-center">ひたち光教会アプリ</h4>
		<div class="col-12"><input class="btn btn-block btn-lg btn-info" onclick="window.location.reload(true);"type="button" value="アプリ更新"></div>
	</div>
	<br><hr />
	<div class="row">
		<div class="col-12">
			<div class="col-12" id="message">
			</div>

			<div class="col-2">
				<form><select class="form-control" id="messageSelect"></select></form>
			</div>
			<div class="col-2"><input class="btn btn-block btn-lg btn-default" onclick="move(1200)"	type="button" value="20"></div>
			<div class="col-2"><input class="btn btn-block btn-lg btn-default" onclick="move(1800)"	type="button" value="30"></div>
			<div class="col-2"><input class="btn btn-block btn-lg btn-default" onclick="move(2400)"	type="button" value="40"></div>
			<div class="col-2"><input class="btn btn-block btn-lg btn-default" onclick="move(3000)"	type="button" value="+"></div>
			<div class="col-2"><input class="btn btn-block btn-lg btn-default" onclick="move(3600)"	type="button" value="-"></div>

		</div>
	</div>
</div>
</body>
</html>
